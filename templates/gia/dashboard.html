<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GIA Dashboard - Tickr</title>
  <link rel="shortcut icon" href="{{ url_for('static', filename='media/ndmu_logo.png') }}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/gia_dashboard.css')}}">
</head>
<body>
  <div class="main-container">

    <!-- Header -->
    <header class="page-header">
      <div class="header-left">
        <h1>Welcome, <span class="employee-name">{{ user.first_name }}</span></h1>
        <p>View your attendance and work summary</p>
      </div>
      <div class="header-right">
        <a class="btn logout-btn" href="{{ url_for('auth.logout') }}">
          <i class="fas fa-sign-out-alt me-2"></i>Logout
        </a>
      </div>
    </header>

    <!-- Stats -->
    <section class="stats-grid">
      <div class="stat-card blue">
        <div class="stat-icon"><i class="fas fa-clock"></i></div>
        <div>
          <h4>Total Hours</h4>
          <p>160 hrs</p>
        </div>
      </div>
      <div class="stat-card green">
        <div class="stat-icon"><i class="fas fa-check-circle"></i></div>
        <div>
          <h4>On Time</h4>
          <p>18 days</p>
        </div>
      </div>
      <div class="stat-card yellow">
        <div class="stat-icon"><i class="fas fa-hourglass-half"></i></div>
        <div>
          <h4>Late</h4>
          <p>2 days</p>
        </div>
      </div>
      <div class="stat-card red">
        <div class="stat-icon"><i class="fas fa-times-circle"></i></div>
        <div>
          <h4>Absences</h4>
          <p>1 day</p>
        </div>
      </div>
    </section>

    <!-- Clock Section -->
    <section class="clock-card">
      <div class="current-time" id="currentTime">--:--:--</div>
      <div class="status-text">You are currently <span class="fw-bold" id="statusText">Clocked Out</span></div>
      <button class="clock-btn" id="clockBtn" data-user-id="{{ user.user_id }}">
        <i class="fas fa-play me-2"></i>Clock In
      </button>
    </section>

    <!-- Recent Activity -->
    <section class="content-card">
      <div class="card-header d-flex justify-content-between align-items-center">
        <h2>Recent Activity</h2>
        <input type="month" class="form-control form-control-sm w-auto" value="2025-10" />
      </div>
      <div class="card-body table-responsive">
        <table class="table table-hover align-middle">
          <thead>
            <tr>
              <th class="text-center">Date</th>
              <th class="text-center">Time In</th>
              <th class="text-center">Time Out</th>
              <!-- <th class="text-center">Status</th> -->
              <th class="text-center">Total Hours</th>
            </tr>
          </thead>
          <tbody id="activityTableBody">
            <!-- JS POP -->
          </tbody>
        </table>
      </div>
    </section>
  </div>

  <!-- Success Modal -->
  <div class="modal fade" id="clockSuccessModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content text-center success-modal">
        <div class="modal-body">
          <div class="success-icon">
            <i class="fas fa-check-circle"></i>
          </div>
          <h5 class="fw-bold mt-3" id="successTitle">Clock In Successful!</h5>
          <p class="text-muted" id="successMessage">
            Your time has been recorded at <span id="successTime"></span>.
          </p>
          <button class="btn btn-primary mt-3 px-4" data-bs-dismiss="modal">OK</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Error Modal -->
  <div class="modal fade" id="clockErrorModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content text-center error-modal">
        <div class="modal-body">
          <div class="error-icon">
            <i class="fas fa-times-circle"></i>
          </div>
          <h5 class="fw-bold mt-3" id="errorTitle">Action Failed</h5>
          <p class="text-muted" id="errorMessage">
            Something went wrong. Please try again.
          </p>
          <button class="btn btn-danger mt-3 px-4" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="{{ url_for('static', filename='js/gia_dashboard.js') }}"></script>
</body>
</html>